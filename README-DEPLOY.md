# Инструкции по деплою CodeDuel

## Подготовка к деплою

1. Убедитесь, что на сервере установлен Docker и Docker Compose.
2. Скопируйте все файлы проекта на сервер.

## Деплой приложения

1. Сделайте скрипт деплоя исполняемым:
   ```bash
   chmod +x deploy.sh
   ```

2. Запустите скрипт деплоя:
   ```bash
   ./deploy.sh
   ```

3. После успешного деплоя приложение будет доступно по адресу: http://176.109.111.167

## Проверка работоспособности

1. Откройте страницу проверки здоровья системы: http://176.109.111.167/health-check.html
2. Убедитесь, что все компоненты (Nginx, Frontend, Backend API) работают корректно.

## Просмотр логов

Для просмотра логов контейнеров используйте команду:
```bash
docker compose logs -f
```

Для просмотра логов конкретного сервиса:
```bash
docker compose logs -f frontend
docker compose logs -f codeduelplatform
docker compose logs -f nginx
```

## Перезапуск приложения

Если вам нужно перезапустить приложение:
```bash
docker compose restart
```

## Остановка приложения

Для остановки приложения:
```bash
docker compose down
```

## Устранение неполадок

1. **Проблема с доступом к фронтенду**:
   - Проверьте логи контейнера frontend: `docker compose logs frontend`
   - Убедитесь, что Next.js запускается корректно

2. **Проблема с API**:
   - Проверьте логи контейнера codeduelplatform: `docker compose logs codeduelplatform`
   - Убедитесь, что API работает и доступен

3. **Проблема с Nginx**:
   - Проверьте логи контейнера nginx: `docker compose logs nginx`
   - Убедитесь, что конфигурация Nginx корректна

4. **Если ничего не помогает**:
   - Полностью пересоберите контейнеры: `./deploy.sh` 